<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ejercicios</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
  integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link rel="stylesheet" href="style.css">
</head>

<body contenteditable="false">
  <script src="1.Ejercicio.js"></script>

  <button data-note="DO" data-key="1">DO</button>
  <button data-note="RE" data-key="2">RE</button>
  <button data-note="MI" data-key="3">MI</button>
  <button data-note="FA" data-key="4">FA</button>
  <button data-note="SOL" data-key="5">SOL</button>
  <button data-note="LA" data-key="6">LA</button>
  <button data-note="SI" data-key="7">SI</button>

  <audio src="7-notas-musicales/DO.wav" id="audioDO"></audio>
  <audio src="7-notas-musicales/RE.wav" id="audioRE"></audio>
  <audio src="7-notas-musicales/MI.wav" id="audioMI"></audio>
  <audio src="7-notas-musicales/FA.wav" id="audioFA"></audio>
  <audio src="7-notas-musicales/SOL.wav" id="audioSOL"></audio>
  <audio src="7-notas-musicales/LA.wav" id="audioLA"></audio>
  <audio src="7-notas-musicales/SI.wav" id="audioSI"></audio>

  <script>
    var buttons = document.querySelectorAll('button');
    buttons.forEach(
      (button) => button.addEventListener('click', playSound)
    );

    function playSound(event){
      var button = event.target;
      var note = button.dataset.note;


      /*Detectar las pulsaciones de teclado
      1. keyup
      2. keydown
      3. keypress
      */
      var audioDO = document.getElementById(`audio${note}`);
      audioDO.pause();
      audioDO.currentTime = 0;
      audioDO.play();
    }

    document.addEventListener('keydown', (event) => {
      const key = event.key;
      const button = document.querySelector(`[data-key="${key}"]`);
      if(button){
        button.click();
      }
    })
  </script>
  
</body>
</html>